commit d9cd01ede97f4145af9781d448c62a3318952719
Author: Tomash Brechko <tomash.brechko@gmail.com>
Date:   Mon Nov 2 18:15:54 2009 +0100

    Use strncmp when checking for large ascii multigets.

diff --git a/memcached.c b/memcached.c
index ed67eb0..3e2e9c5 100644
--- a/memcached.c
+++ b/memcached.c
@@ -3148,7 +3148,9 @@ static int try_read_command(conn *c) {
                     ++ptr;
                 }
 
-                if (strcmp(ptr, "get ") && strcmp(ptr, "gets ")) {
+                if (ptr - c->rcurr > 100 ||
+                    (strncmp(ptr, "get ", 4) && strncmp(ptr, "gets ", 5))) {
+
                     conn_set_state(c, conn_closing);
                     return 1;
                 }
