commit ed3aada1bf34c5a9e98af167f125f8a740fc726a
Author: Dave Jones <davej@redhat.com>
Date:   Sat Nov 13 00:58:54 2010 -0500

    ACPI: debugfs custom_method open to non-root
    
    Currently we have:
    
      --w--w--w-. 1 root root 0 2010-11-11 14:56 /sys/kernel/debug/acpi/custom_method
    
    which is just crazy. Change this to --w-------.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Len Brown <len.brown@intel.com>
    Cc: stable@kernel.org (for 2.6.36)
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

diff --git a/drivers/acpi/debugfs.c b/drivers/acpi/debugfs.c
index 6355b57..5df67f1 100644
--- a/drivers/acpi/debugfs.c
+++ b/drivers/acpi/debugfs.c
@@ -75,15 +75,15 @@ static const struct file_operations cm_fops = {
 int __init acpi_debugfs_init(void)
 {
 	struct dentry *acpi_dir, *cm_dentry;
 
 	acpi_dir = debugfs_create_dir("acpi", NULL);
 	if (!acpi_dir)
 		goto err;
 
-	cm_dentry = debugfs_create_file("custom_method", S_IWUGO,
+	cm_dentry = debugfs_create_file("custom_method", S_IWUSR,
 					acpi_dir, NULL, &cm_fops);
 	if (!cm_dentry)
 		goto err;
 
 	return 0;
 
